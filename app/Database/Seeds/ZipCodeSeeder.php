<?php

namespace App\Database\Seeds;

use CodeIgniter\Database\Seeder;
use Ramsey\Uuid\Uuid;

class ZipCodeSeeder extends Seeder
{
    public function run()
    {
        try {
            $rawData = [
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000001',
                    'codes' => ['33401', '33405', '33406', '33407', '33409', '33411', '33417']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000002',
                    'codes' => ['33480']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000003',
                    'codes' => ['33427', '33428', '33429', '33431', '33432', '33433', '33434', '33486', '33487', '33496', '33498']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000004',
                    'codes' => ['33444', '33445', '33446', '33448', '33482', '33483']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000005',
                    'codes' => ['33424', '33425', '33426', '33435', '33436', '33437', '33472', '33473']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000006',
                    'codes' => ['33449', '33454', '33460', '33461', '33462', '33463', '33464', '33465', '33466', '33467']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000007',
                    'codes' => ['33414', '33449']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000008',
                    'codes' => ['33411', '33414', '33421']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000009',
                    'codes' => ['33313', '33317', '33322', '33323', '33324', '33325']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000010',
                    'codes' => ['33301', '33304', '33305', '33306', '33308', '33309', '33311', '33312', '33313', '33315', '33316', '33319', '33321', '33323', '33325', '33334', '33351']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000011',
                    'codes' => ['33019', '33020', '33021', '33024', '33025', '33026', '33027', '33029']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000012',
                    'codes' => ['33060', '33062', '33064', '33068', '33069', '33073', '33074']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000013',
                    'codes' => ['33065', '33067', '33071', '33076']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000014',
                    'codes' => ['33023', '33024', '33025', '33026', '33027', '33028', '33029']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000015',
                    'codes' => ['33312', '33314', '33317', '33324', '33325', '33328', '33330', '33331']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000016',
                    'codes' => ['33023', '33025', '33027', '33029']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000017',
                    'codes' => ['33326', '33327', '33331', '33332']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000018',
                    'codes' => ['33441', '33442', '33443']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000019',
                    'codes' => ['33063', '33066', '33073']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000020',
                    'codes' => ['33313', '33322', '33323', '33326', '33351']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000021',
                    'codes' => ['33311', '33313', '33319']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000022',
                    'codes' => ['33309', '33319', '33321', '33351']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000023',
                    'codes' => ['33063', '33068']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000024',
                    'codes' => ['33008', '33009']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000025',
                    'codes' => ['33004']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000026',
                    'codes' => ['33304', '33305', '33306', '33308', '33309', '33311', '33334']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000027',
                    'codes' => ['33068']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000028',
                    'codes' => ['33305', '33306', '33311']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000029',
                    'codes' => ['33128', '33130', '33131', '33132']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000030',
                    'codes' => ['33129', '33130', '33131']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000031',
                    'codes' => ['33125', '33128', '33135']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000032',
                    'codes' => ['33133', '33146']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000033',
                    'codes' => ['33134', '33145']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000034',
                    'codes' => ['33127', '33137']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000035',
                    'codes' => ['33125', '33142', '33147']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000036',
                    'codes' => ['33125', '33126', '33144', '33155']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000037',
                    'codes' => ['33136']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000038',
                    'codes' => ['33127', '33147', '33150']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000039',
                    'codes' => ['33139']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000040',
                    'codes' => ['33140']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000041',
                    'codes' => ['33141']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000042',
                    'codes' => ['33010', '33012', '33013', '33014', '33015', '33016', '33018']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000043',
                    'codes' => ['33122', '33126', '33172', '33178', '33182']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000044',
                    'codes' => ['33134', '33146', '33156', '33158']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000045',
                    'codes' => ['33173', '33175', '33176', '33177', '33183', '33186', '33193', '33196']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000046',
                    'codes' => ['33157', '33189', '33190']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000047',
                    'codes' => ['33156', '33157']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000048',
                    'codes' => ['33160', '33180']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000049',
                    'codes' => ['33161', '33162', '33168', '33181']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000050',
                    'codes' => ['33160', '33162', '33169', '33179', '33180']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000051',
                    'codes' => ['33054', '33055', '33056']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000052',
                    'codes' => ['33160']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000053',
                    'codes' => ['33149']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000054',
                    'codes' => ['33143']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000055',
                    'codes' => ['33030', '33031', '33032', '33033', '33034', '33035', '33039', '33092']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000056',
                    'codes' => ['10004', '10005', '10006', '10038', '10280', '10282', '10002', '10007', '10013', '10003', '10012', '10011', '10014', '10017', '10022', '10019', '10036', '10001', '10018', '10016', '10021', '10028', '10065', '10075', '10128', '10023', '10024', '10025', '10026', '10027', '10030', '10037', '10039', '10044']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000057',
                    'codes' => ['11201', '11203', '11204', '11205', '11206', '11207', '11208', '11209', '11210', '11211', '11212', '11213', '11214', '11215', '11216', '11217', '11218', '11219', '11220', '11221', '11222', '11223', '11224', '11225', '11226', '11228', '11229', '11230', '11231', '11232', '11233', '11234', '11235', '11236', '11237', '11238', '11239', '11249']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000058',
                    'codes' => ['11004', '11005', '11101', '11102', '11103', '11104', '11105', '11106', '11354', '11355', '11356', '11357', '11358', '11359', '11360', '11361', '11362', '11363', '11364', '11365', '11366', '11367', '11368', '11369', '11370', '11371', '11372', '11373', '11374', '11375', '11377', '11378', '11379', '11385', '11411', '11412', '11413', '11414', '11415', '11416', '11417', '11418', '11419', '11420', '11421', '11422', '11423', '11424', '11425', '11426', '11427', '11428', '11429', '11430', '11432', '11433', '11434', '11435', '11436', '11691', '11692', '11693', '11694', '11695', '11697']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000059',
                    'codes' => ['10451', '10452', '10453', '10454', '10455', '10456', '10457', '10458', '10459', '10460', '10461', '10462', '10463', '10464', '10465', '10466', '10467', '10468', '10469', '10470', '10471', '10472', '10473', '10474', '10475']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000060',
                    'codes' => ['10301', '10302', '10303', '10304', '10305', '10306', '10307', '10308', '10309', '10310', '10311', '10312', '10313', '10314']
                ],
                [
                    'city_id' => '20000000-aaaa-bbbb-cccc-000000000061',
                    'codes' => ['10501', '10502', '10503', '10504', '10505', '10506', '10507', '10510', '10511', '10514', '10517', '10518', '10519', '10520', '10522', '10523', '10526', '10527', '10528', '10530', '10532', '10533', '10535', '10536', '10538', '10543', '10545', '10546', '10547', '10548', '10549', '10550', '10551', '10552', '10553', '10562', '10566', '10567', '10570', '10573', '10576', '10577', '10580', '10583', '10587', '10588', '10589', '10590', '10591', '10594', '10595', '10596', '10597', '10598', '10601', '10603', '10604', '10605', '10606', '10607']
                ],
            ];

            $data = [];
            foreach ($rawData as $row) {
                foreach ($row['codes'] as $code) {
                    $data[] = [
                        'id'        => Uuid::uuid4()->toString(),
                        'city_id'   => $row['city_id'],
                        'zipcode'   => $code,
                        'is_active' => true,
                        'created_at' => date('Y-m-d H:i:s'),
                    ];
                }
            }

            $this->db->table('zipcodes')->insertBatch($data);
        } catch (\Throwable $th) {
            error_log('❌ Error: ' . $th->getMessage());
            $this->db->table('zipcodes')->truncate();
        }
    }
}
